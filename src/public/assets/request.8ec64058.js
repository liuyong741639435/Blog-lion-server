import{i as l,j as o,k as s}from"./index.3404ca99.js";function k(e){window.localStorage.setItem("Authorization",e)}function h(){return window.localStorage.getItem("Authorization")}let a;a=0;const p={timeout:5e3,baseURL:"/api"};let c;switch(a){case 0:c=p}const r=c,u=l.create({baseURL:r.baseURL,timeout:r.timeout,headers:{"Content-Type":"application/json"}});function n(e){return[e.method,e.url].join("&")}u.interceptors.request.use(e=>{const t=h();t&&(e.headers={Authorization:t,...e.headers});const i=n(e);return e.cancelToken=o.set(i),e});u.interceptors.response.use(e=>{const t=n(e.config);return o.cancel(t),e.data},e=>{const t=n(e.config);switch(o.cancel(t),e.response.status){case 401:s.push("/user/account/login");case 403:s.push("/user/account/login");default:return Promise.reject("\u672A\u77E5\u9519\u8BEF")}});export{u as r,k as s};
